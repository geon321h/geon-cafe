<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="member.model.Member">
 
 	<select id="getMember" resultType="myMember">
 		select * from members where email = #{email}
 	</select>
 	
 	<select id="getMemberByNum" resultType="myMember">
 		select * from members where num = #{num}
 	</select>
 	
 	 	<select id="getTotalCount" resultType="Integer">
 		select count(*) cnt from members
 		<if test="whatColumn=='all'">
 			where name like #{keyword} or gender like #{keyword}
 		</if>
 		<if test="whatColumn=='name'">
 			where name like #{keyword} 
 		</if>
 		<if test="whatColumn=='gender'">
 			where gender like #{keyword}
 		</if>
 	</select>
 	
 	<select id="getMemberList" resultType="myMember">
 		select * from members
 		<if test="whatColumn=='all'">
 			where name like #{keyword} or gender like #{keyword}
 		</if>
 		<if test="whatColumn=='name'">
 			where name like #{keyword} 
 		</if>
 		<if test="whatColumn=='gender'">
 			where gender like #{keyword}
 		</if>
 		order by num desc
 	</select>
 	
 	<insert id="insertMember">
 		insert into members
		values(member_seq.nextval,#{email},#{name},
		#{password},#{gender},#{hobby},#{job},sysdate)
 	</insert>
 	
 	<delete id="deleteMember">
		delete members where num = #{num} 	
 	</delete>
 	
 	<update id="updateMember">
 		update members set
 		name = #{name} ,password= #{password},gender= #{gender},
 		hobby= #{hobby},job = #{job}
 		where num = #{num} 	
 	</update>
 
 </mapper>
 
 
 